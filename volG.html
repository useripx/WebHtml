<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Volume Controller</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #050505; overflow: hidden; }
        .sun { box-shadow: 0 0 60px #fbbf24; }
        .orbit-path { border: 1px dashed rgba(255,255,255,0.1); }
    </style>
</head>
<body class="text-white">

<div id="app" class="relative w-screen h-screen flex items-center justify-center cursor-crosshair">
    
    <div class="absolute top-10 left-10 z-50">
        <h1 class="text-3xl font-black italic tracking-tighter text-yellow-400">ORBITAL GAIN</h1>
        <p class="text-xs font-mono opacity-50 mt-2">Geser planet menjauh untuk volume lebih keras.<br>Putar planet lebih cepat untuk distorsi.</p>
        
        <div class="mt-8">
            <div class="text-[60px] font-black font-mono leading-none">
                {{ Math.round(volume) }}%
            </div>
            <div class="h-1 bg-yellow-500 transition-all duration-300" :style="{ width: volume + '%' }"></div>
        </div>
    </div>

    <div class="relative flex items-center justify-center" :style="{ transform: `scale(${1 + volume/200})` }">
        
        <div class="sun w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center animate-pulse">
            <div class="text-black font-bold text-[10px]">CORE</div>
        </div>

        <div class="orbit-path absolute rounded-full w-[200px] h-[200px]"></div>
        <div class="orbit-path absolute rounded-full w-[400px] h-[400px]"></div>
        <div class="orbit-path absolute rounded-full w-[600px] h-[600px]"></div>

        <div 
            class="absolute w-12 h-12 bg-cyan-500 rounded-full shadow-[0_0_20px_#06b6d4] flex items-center justify-center cursor-grab active:cursor-grabbing transition-transform duration-75"
            :style="{ 
                left: planetPos.x + 'px', 
                top: planetPos.y + 'px',
                transform: `rotate(${angle}deg)`
            }"
            @mousedown="startDrag"
        >
            <div class="w-3 h-3 bg-white rounded-full animate-ping"></div>
        </div>
    </div>

    <div class="absolute bottom-10 opacity-30 text-xs tracking-[0.2em] uppercase">
        Tangkap dan tarik planet untuk memanipulasi amplitudo
    </div>

</div>

<script>
const { createApp, ref, onMounted, computed } = Vue;

createApp({
    setup() {
        const angle = ref(0);
        const radius = ref(150);
        const volume = ref(30);
        const isDragging = ref(false);

        const planetPos = computed(() => {
            const rad = (angle.value * Math.PI) / 180;
            return {
                x: Math.cos(rad) * radius.value,
                y: Math.sin(rad) * radius.value
            };
        });

        const startDrag = () => {
            isDragging.value = true;
            window.addEventListener('mousemove', handleDrag);
            window.addEventListener('mouseup', stopDrag);
        };

        const handleDrag = (e) => {
            if (!isDragging.value) return;

            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            const dx = e.clientX - centerX;
            const dy = e.clientY - centerY;
            
            // Calculate new angle
            angle.value = Math.atan2(dy, dx) * (180 / Math.PI);
            
            // Calculate distance (Radius)
            const dist = Math.sqrt(dx*dx + dy*dy);
            radius.value = dist;

            // Mapping distance to Volume (0 - 100)
            // Makin jauh makin keras (aneh kan?)
            let newVol = (dist / 400) * 100;
            volume.value = Math.min(Math.max(newVol, 0), 100);
        };

        const stopDrag = () => {
            isDragging.value = false;
            window.removeEventListener('mousemove', handleDrag);
            window.removeEventListener('mouseup', stopDrag);
        };

        // Auto-orbit effect (Idle movement)
        onMounted(() => {
            setInterval(() => {
                if (!isDragging.value) {
                    angle.value += 0.5; // Planet berputar perlahan
                }
            }, 16);
        });

        return { angle, radius, volume, planetPos, startDrag };
    }
}).mount('#app');
</script>

</body>
</html>
